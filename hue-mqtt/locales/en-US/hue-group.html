<script type="text/x-red" data-help-name="hue-group">
    <p>Hue group node to control whole groups containing lights and receive group events.</p>

    <h3>Setup</h3>
    <p>Select the preconfigured Hue Bridge and hit the search button to find all available preconfigured groups. Type in the name of the group manually or keep the default name.</p>

    <h3>Define state</h3>
    <p>Changes the group state, effect, color and brightness based on the passed in <b>msg.payload</b> values of:</p>
    <dl class="message-properties">
        <dt class="optional">on<span class="property-type">boolean</span></dt>
        <dd>True to turn on all the lights inside the group, false to turn them off</dd>

        <dt class="optional">brightness<span class="property-type">int</span></dt>
        <dd>Optionally configurable brightness of the lights in percent (0-100)</dd>

        <dt class="optional">xy<span class="property-type">array[float,float]</span></dt>
        <dd>Optionally configurable XY color value of all lights inside the group.</dd>

        <dt class="optional">colorTemp<span class="property-type">int</span></dt>
        <dd>Optionally configurable color temperature of the group lights from 153 to 500.</dd>

        <dt class="optional">saturation<span class="property-type">int</span></dt>
        <dd>Optionally configurable color saturation of the group in percent (from 0 to 100)</dd>
    </dl>

    <h3>Group Events</h3>
    <p>The event message that the group sends contains the following data in the <b>msg.payload</b> object:</p>
    <dl class="message-properties">
        <dt>on<span class="property-type">boolean</span></dt>
        <dd>True for on, false for off</dd>

        <dt>allOn<span class="property-type">boolean</span></dt>
        <dd>True if all lights in the group are on, false if not</dd>

        <dt>anyOn<span class="property-type">boolean</span></dt>
        <dd>True if any lights in the group are on, false if none are on</dd>

        <dt>brightness<span class="property-type">int</span></dt>
        <dd>Current brightness of all lights in the whole group in percent</dd>

        <dt>brightnessLevel<span class="property-type">int</span></dt>
        <dd>Current brightness level of all lights in the whole group (0-254)</dd>

        <dt class="optional">xy<span class="property-type">array[float,float]</span></dt>
        <dd>Current XY color value of all lights in the group (if supported)</dd>

        <dt class="optional">colorTemp<span class="property-type">int</span></dt>
        <dd>Current color temperature of all lights in average in the group (if supported)</dd>

        <dt>updated<span class="property-type">ISO 8601 date string</span></dt>
        <dd>ISO 8601 date string of the last group state update</dd>
    </dl>

    <h3>Additional Group Info</h3>
    <p>Additional information about the group is going to be sent to the <b>msg.info</b> object:</p>
    <dl class="message-properties">
        <dt>id<span class="property-type">int</span></dt>
        <dd>Group Id, generated automatically by the bridge</dd>

        <dt>lightIds<span class="property-type">array[intâ€¦]</span></dt>
        <dd>An array of light ids associated with the group</dd>

        <dt>name<span class="property-type">string</span></dt>
        <dd>Name for the group</dd>

        <dt>type<span class="property-type">string</span></dt>
        <dd>Type of group (e.g. LightGroup, Luminaire, LightSource, Room)</dd>

        <dt class="optional">model<span class="property-type">object</span></dt>
        <dd>Huejay (the API behind HueMagic) maintains a list of Philips Hue supported luminaire models. The Group model attribute returns optionally a GroupModel object. This object contains more information about the model like the model.id, model.manufacturer, model.name, model.type, model.colorGamut and model.friendsOfHue</dd>
    </dl>
</script>
